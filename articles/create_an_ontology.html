<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create an ontology • ontologics</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Create an ontology">
<meta property="og:description" content="ontologics">
<meta property="og:image" content="http://luckinet.github.io/ontologics/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ontologics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/create_an_ontology.html">Create an ontology</a>
</li>
<li>
  <a href="../articles/map_new_concepts.html">Map new concepts</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://www.twitter.com/DerEhrmann" class="external-link">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/luckinet/ontologics" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="create_an_ontology_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Create an ontology</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/luckinet/ontologics/blob/HEAD/vignettes/create_an_ontology.Rmd" class="external-link"><code>vignettes/create_an_ontology.Rmd</code></a></small>
      <div class="hidden name"><code>create_an_ontology.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/luckinet/ontologics" class="external-link">ontologics</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>An already existing ontology can either be read in, or a totally new one can be created with <code>ontologics</code>. First, let’s look at an ontology that is used throughout this package as an example. The function <code><a href="../reference/load_ontology.html">load_ontology()</a></code> loads an ontology in any format that is supported by <code>ontologics</code> from a path. Currently, an ontology is expected to be stored as a <code>*.rds</code> file with a particular formatting, more options are under development.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cropOntology</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"crops.rds"</span>, package <span class="op">=</span> <span class="st">"ontologics"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">crops</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_ontology.html">load_ontology</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">cropOntology</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># currently there is no 'show' function available yet, so let's take a peak at the ontology like so:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">crops</span><span class="op">)</span></span>
<span><span class="co">#&gt; Formal class 'onto' [package "ontologics"] with 3 slots</span></span>
<span><span class="co">#&gt;   ..@ sources : tibble [1 × 6] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id         : chr "1"</span></span>
<span><span class="co">#&gt;   .. ..$ label      : chr "harmonised"</span></span>
<span><span class="co">#&gt;   .. ..$ description: chr NA</span></span>
<span><span class="co">#&gt;   .. ..$ homepage   : chr NA</span></span>
<span><span class="co">#&gt;   .. ..$ license    : chr NA</span></span>
<span><span class="co">#&gt;   .. ..$ notes      : chr "imported manually"</span></span>
<span><span class="co">#&gt;   ..@ classes :List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ harmonised: tibble [3 × 8] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. .. ..$ id                : chr [1:3] ".xx" ".xx.xx" ".xx.xx.xx"</span></span>
<span><span class="co">#&gt;   .. .. ..$ label             : chr [1:3] "group" "class" "crop"</span></span>
<span><span class="co">#&gt;   .. .. ..$ description       : chr [1:3] "Groups of crop or livestock commodities" "Classes of crop or livestock commodities" "Crop or livestock commodities"</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_broader       : chr [1:3] NA "group" "class"</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_close_match   : chr [1:3] NA NA NA</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_narrower_match: chr [1:3] NA NA NA</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_broader_match : chr [1:3] NA NA NA</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_exact_match   : chr [1:3] NA NA NA</span></span>
<span><span class="co">#&gt;   .. ..$ external  : tibble [0 × 4] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. .. ..$ id         : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ label      : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ description: chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ has_source : chr(0) </span></span>
<span><span class="co">#&gt;   ..@ concepts:List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ harmonised: tibble [73 × 9] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. .. ..$ id                : chr [1:73] ".01" ".01.01" ".01.02" ".01.03" ...</span></span>
<span><span class="co">#&gt;   .. .. ..$ label             : chr [1:73] "BIOENERGY CROPS" "Bioenergy herbaceous" "Bioenergy woody" "Other bioenergy crops" ...</span></span>
<span><span class="co">#&gt;   .. .. ..$ description       : chr [1:73] NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   .. .. ..$ class             : chr [1:73] "group" "class" "class" "class" ...</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_broader       : chr [1:73] NA ".01" ".01" ".01" ...</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_close_match   : chr [1:73] NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_narrower_match: chr [1:73] NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_broader_match : chr [1:73] NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_exact_match   : chr [1:73] NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   .. ..$ external  : tibble [0 × 4] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. .. ..$ id         : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ label      : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ description: chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ has_source : chr(0)</span></span></code></pre></div>
<p>The <code>onto</code> class is an S3 class with the 5 slots <code>@classes</code>, <code>@sources</code>, <code>@concepts</code>, <code>@labels</code> and <code>@mappings</code>, each of which are reflected by a function that allows to add new items to this slot (<strong>note</strong>, the function <code>new_labels()</code> is not yet supported).</p>
<p>A new ontology is built by calling the function <code><a href="../reference/start_ontology.html">start_ontology()</a></code>. This requires a bunch of meta-data that will be stored in the ontology and which serve the purpose of properly linking also this ontology to other <em>linked open data</em>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lulc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/start_ontology.html">start_ontology</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"land_surface_properties"</span>,</span>
<span>                       path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>                       code <span class="op">=</span> <span class="st">".xx"</span>,</span>
<span>                       description <span class="op">=</span> <span class="st">"showcase of the ontologics R-package"</span>, </span>
<span>                       homepage <span class="op">=</span> <span class="st">"https://www.luckinet.org"</span>, </span>
<span>                       license <span class="op">=</span> <span class="st">"CC-BY-4.0"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">lulc</span><span class="op">)</span></span>
<span><span class="co">#&gt; Formal class 'onto' [package "ontologics"] with 3 slots</span></span>
<span><span class="co">#&gt;   ..@ sources : tibble [1 × 6] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id         : chr "1"</span></span>
<span><span class="co">#&gt;   .. ..$ label      : chr "harmonised"</span></span>
<span><span class="co">#&gt;   .. ..$ description: chr "showcase of the ontologics R-package"</span></span>
<span><span class="co">#&gt;   .. ..$ homepage   : chr "https://www.luckinet.org"</span></span>
<span><span class="co">#&gt;   .. ..$ license    : chr "CC-BY-4.0"</span></span>
<span><span class="co">#&gt;   .. ..$ notes      : chr ""</span></span>
<span><span class="co">#&gt;   ..@ classes :List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ harmonised: tibble [1 × 8] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. .. ..$ id                : chr ".xx"</span></span>
<span><span class="co">#&gt;   .. .. ..$ label             : chr NA</span></span>
<span><span class="co">#&gt;   .. .. ..$ description       : chr "dummy class that contains the code definition."</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_broader       : chr NA</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_close_match   : chr NA</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_narrower_match: chr NA</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_broader_match : chr NA</span></span>
<span><span class="co">#&gt;   .. .. ..$ has_exact_match   : chr NA</span></span>
<span><span class="co">#&gt;   .. ..$ external  : tibble [0 × 4] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. .. ..$ id         : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ label      : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ description: chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ has_source : chr(0) </span></span>
<span><span class="co">#&gt;   ..@ concepts:List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ harmonised: tibble [0 × 9] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. .. ..$ id                : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ label             : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ description       : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ class             : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ has_broader       : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ has_close_match   : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ has_narrower_match: chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ has_broader_match : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ has_exact_match   : chr(0) </span></span>
<span><span class="co">#&gt;   .. ..$ external  : tibble [0 × 4] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. .. ..$ id         : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ label      : chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ description: chr(0) </span></span>
<span><span class="co">#&gt;   .. .. ..$ has_source : chr(0)</span></span></code></pre></div>
<p>All slots, except the <code>@classes</code> slot are empty. This slot contains the basic code unit that will be used to set of the hierarchical code in this ontology. It is recommended to always set this with a leading symbol that can’t be transformed into a numeric/integer, to avoid problems in case the ontology is opened in a spreadsheet program that may automatically do this transformation without asking or informing the author.</p>
<p>When creating the ontology, it first needs information from where the concepts are sourced. In case no source or a wrong source is provided, the respective functions will inform the user. When starting a new ontology, however, the first source given by the ontology meta-data, while when assigning new items into either slot, the argument <code>source = "harmonised"</code> needs to be chosen.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">kable</span><span class="op">(</span><span class="va">lulc</span><span class="op">@</span><span class="va">sources</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="3%">
<col width="11%">
<col width="40%">
<col width="27%">
<col width="10%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">id</th>
<th align="left">label</th>
<th align="left">description</th>
<th align="left">homepage</th>
<th align="left">license</th>
<th align="left">notes</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">1</td>
<td align="left">harmonised</td>
<td align="left">showcase of the ontologics R-package</td>
<td align="left"><a href="https://www.luckinet.org" class="external-link uri">https://www.luckinet.org</a></td>
<td align="left">CC-BY-4.0</td>
<td align="left"></td>
</tr></tbody>
</table>
<p>Next, classes and their hierarchy need to be defined. Each concept is always a combination of a code, a label and a class. The code must be unique for each unique concept, but the label or the class can have the same value for two concepts. For instance, the concept <code>football</code> can have the class <code>game</code> or the class <code>object</code> and then mean two different things, despite having the same label.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># currently it is merely possible to set only one class at a time</span></span>
<span><span class="va">lulc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_class.html">new_class</a></span><span class="op">(</span>new <span class="op">=</span> <span class="st">"landcover"</span>, target <span class="op">=</span> <span class="cn">NA</span>, description <span class="op">=</span> <span class="st">"A good definition of landcover"</span>, </span>
<span>                  ontology <span class="op">=</span> <span class="va">lulc</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/new_class.html">new_class</a></span><span class="op">(</span>new <span class="op">=</span> <span class="st">"land-use"</span>, target <span class="op">=</span> <span class="st">"landcover"</span>, description <span class="op">=</span> <span class="st">"A good definition of land-use"</span>, </span>
<span>            ontology <span class="op">=</span> <span class="va">.</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">lulc</span><span class="op">@</span><span class="va">classes</span><span class="op">$</span><span class="va">harmonised</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">id</th>
<th align="left">label</th>
<th align="left">description</th>
<th align="left">has_broader</th>
<th align="left">has_close_match</th>
<th align="left">has_narrower_match</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">.xx</td>
<td align="left">landcover</td>
<td align="left">A good definition of landcover</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.xx.xx</td>
<td align="left">land-use</td>
<td align="left">A good definition of land-use</td>
<td align="left">landcover</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>Then, new concepts that have these classes can be defined. In case classes are chosen that are not yet defined, you’ll get a warning.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Urban fabric"</span>, <span class="st">"Industrial, commercial and transport units"</span>,</span>
<span>        <span class="st">"Mine, dump and construction sites"</span>, <span class="st">"Artificial, non-agricultural vegetated areas"</span>, </span>
<span>        <span class="st">"Temporary cropland"</span>, <span class="st">"Permanent cropland"</span>, <span class="st">"Heterogeneous agricultural areas"</span>, </span>
<span>        <span class="st">"Forests"</span>, <span class="st">"Other Wooded Areas"</span>, <span class="st">"Shrubland"</span>, <span class="st">"Herbaceous associations"</span>, </span>
<span>        <span class="st">"Heterogeneous semi-natural areas"</span>, <span class="st">"Open spaces with little or no vegetation"</span>, </span>
<span>        <span class="st">"Inland wetlands"</span>, <span class="st">"Marine wetlands"</span>, <span class="st">"Inland waters"</span>, <span class="st">"Marine waters"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lulc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_concept.html">new_concept</a></span><span class="op">(</span>new <span class="op">=</span> <span class="va">lc</span>,</span>
<span>                    class <span class="op">=</span> <span class="st">"landcover"</span>, </span>
<span>                    ontology <span class="op">=</span> <span class="va">lulc</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">lulc</span><span class="op">@</span><span class="va">concepts</span><span class="op">$</span><span class="va">harmonised</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">id</th>
<th align="left">label</th>
<th align="left">description</th>
<th align="left">class</th>
<th align="left">has_broader</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">.01</td>
<td align="left">Urban fabric</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.02</td>
<td align="left">Industrial, commercial and transport units</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.03</td>
<td align="left">Mine, dump and construction sites</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.04</td>
<td align="left">Artificial, non-agricultural vegetated areas</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.05</td>
<td align="left">Temporary cropland</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.06</td>
<td align="left">Permanent cropland</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.07</td>
<td align="left">Heterogeneous agricultural areas</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.08</td>
<td align="left">Forests</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.09</td>
<td align="left">Other Wooded Areas</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.10</td>
<td align="left">Shrubland</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.11</td>
<td align="left">Herbaceous associations</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.12</td>
<td align="left">Heterogeneous semi-natural areas</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.13</td>
<td align="left">Open spaces with little or no vegetation</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.14</td>
<td align="left">Inland wetlands</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.15</td>
<td align="left">Marine wetlands</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.16</td>
<td align="left">Inland waters</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.17</td>
<td align="left">Marine waters</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>An ontology is different from a vocabulary in that concepts that are contained in an ontology are related semantically to one another. For example, concepts can be nested into other concepts. Hence, let’s create also a second level of concepts that depend on the first level.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>concept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fallow"</span>, <span class="st">"Herbaceous crops"</span>, <span class="st">"Temporary grazing"</span>,</span>
<span>                         <span class="st">"Permanent grazing"</span>, <span class="st">"Shrub orchards"</span>, <span class="st">"Palm plantations"</span>, </span>
<span>                         <span class="st">"Tree orchards"</span>, <span class="st">"Woody plantation"</span>, <span class="st">"Protective cover"</span>, </span>
<span>                         <span class="st">"Agroforestry"</span>, <span class="st">"Mosaic of agricultural-uses"</span>,</span>
<span>                         <span class="st">"Mosaic of agriculture and natural vegetation"</span>, </span>
<span>                         <span class="st">"Undisturbed Forest"</span>, <span class="st">"Naturally Regenerating Forest"</span>,</span>
<span>                         <span class="st">"Planted Forest"</span>, <span class="st">"Temporally Unstocked Forest"</span><span class="op">)</span>,</span>
<span>             broader <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">lc</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">lc</span><span class="op">[</span><span class="fl">6</span><span class="op">]</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>                        <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">lc</span><span class="op">[</span><span class="fl">7</span><span class="op">]</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">lc</span><span class="op">[</span><span class="fl">8</span><span class="op">]</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lulc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_concept.html">new_concept</a></span><span class="op">(</span>new <span class="op">=</span> <span class="va">lu</span><span class="op">$</span><span class="va">concept</span>,</span>
<span>                    broader <span class="op">=</span> <span class="fu"><a href="../reference/get_concept.html">get_concept</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">lu</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">broader</span><span class="op">)</span>, ontology <span class="op">=</span> <span class="va">lulc</span><span class="op">)</span>,</span>
<span>                    class <span class="op">=</span> <span class="st">"land-use"</span>,</span>
<span>                    ontology <span class="op">=</span>  <span class="va">lulc</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">lulc</span><span class="op">@</span><span class="va">concepts</span><span class="op">$</span><span class="va">harmonised</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">id</th>
<th align="left">label</th>
<th align="left">description</th>
<th align="left">class</th>
<th align="left">has_broader</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">.01</td>
<td align="left">Urban fabric</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.02</td>
<td align="left">Industrial, commercial and transport units</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.03</td>
<td align="left">Mine, dump and construction sites</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.04</td>
<td align="left">Artificial, non-agricultural vegetated areas</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.05</td>
<td align="left">Temporary cropland</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.05.01</td>
<td align="left">Fallow</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.05</td>
</tr>
<tr class="odd">
<td align="left">.05.02</td>
<td align="left">Herbaceous crops</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.05</td>
</tr>
<tr class="even">
<td align="left">.05.03</td>
<td align="left">Temporary grazing</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.05</td>
</tr>
<tr class="odd">
<td align="left">.06</td>
<td align="left">Permanent cropland</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.06.01</td>
<td align="left">Permanent grazing</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.06</td>
</tr>
<tr class="odd">
<td align="left">.06.02</td>
<td align="left">Shrub orchards</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.06</td>
</tr>
<tr class="even">
<td align="left">.06.03</td>
<td align="left">Palm plantations</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.06</td>
</tr>
<tr class="odd">
<td align="left">.06.04</td>
<td align="left">Tree orchards</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.06</td>
</tr>
<tr class="even">
<td align="left">.06.05</td>
<td align="left">Woody plantation</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.06</td>
</tr>
<tr class="odd">
<td align="left">.06.06</td>
<td align="left">Protective cover</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.06</td>
</tr>
<tr class="even">
<td align="left">.07</td>
<td align="left">Heterogeneous agricultural areas</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.07.01</td>
<td align="left">Agroforestry</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.07</td>
</tr>
<tr class="even">
<td align="left">.07.02</td>
<td align="left">Mosaic of agricultural-uses</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.07</td>
</tr>
<tr class="odd">
<td align="left">.07.03</td>
<td align="left">Mosaic of agriculture and natural vegetation</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.07</td>
</tr>
<tr class="even">
<td align="left">.08</td>
<td align="left">Forests</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.08.01</td>
<td align="left">Undisturbed Forest</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.08</td>
</tr>
<tr class="even">
<td align="left">.08.02</td>
<td align="left">Naturally Regenerating Forest</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.08</td>
</tr>
<tr class="odd">
<td align="left">.08.03</td>
<td align="left">Planted Forest</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.08</td>
</tr>
<tr class="even">
<td align="left">.08.04</td>
<td align="left">Temporally Unstocked Forest</td>
<td align="left">NA</td>
<td align="left">land-use</td>
<td align="left">.08</td>
</tr>
<tr class="odd">
<td align="left">.09</td>
<td align="left">Other Wooded Areas</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.10</td>
<td align="left">Shrubland</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.11</td>
<td align="left">Herbaceous associations</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.12</td>
<td align="left">Heterogeneous semi-natural areas</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.13</td>
<td align="left">Open spaces with little or no vegetation</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.14</td>
<td align="left">Inland wetlands</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.15</td>
<td align="left">Marine wetlands</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">.16</td>
<td align="left">Inland waters</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">.17</td>
<td align="left">Marine waters</td>
<td align="left">NA</td>
<td align="left">landcover</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>Here we see that <code><a href="../reference/get_concept.html">get_concept()</a></code> was used to extract those broader concepts, into which the new level is nested. This is to ensure that a valid concept is provided, i.e., one that has already been included into the ontology.</p>
<p>This concludes the basic functions that set up an ontology from scratch. Other functions, for example to set mappings to other ontologies, is discussed in the vignette <a href="map_new_concepts.html">Map new concepts</a>.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://orcid.org/0000-0002-2958-0796" class="external-link">Steffen Ehrmann</a>, <a href="https://orcid.org/0000-0001-8637-9071" class="external-link">Arne Rümmler</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
